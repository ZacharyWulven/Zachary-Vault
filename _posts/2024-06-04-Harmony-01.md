---
layout: post
title: 鸿蒙开发-01.md
date: 2024-06-04 16:45:30.000000000 +09:00
categories: [鸿蒙, ArkTS]
tags: [鸿蒙, ArkTS]
---


# 一、ArkTS 入门

## 1 常见的三种数据类型

```typescript
// 1. 字符串 string 类型
// 字符串使用 单引号或双引号
let title: string = '巨无霸汉堡'
console.log('字符串', title)

// 1.2. 数字 number 类型
let age: number = 18
console.log('年龄', age)

// 1.3 布尔 boolean
let isLogin: boolean = false
console.log('是否登录成功', isLogin)

age = 81
console.log('年龄', age)
```

## 2 常量使用 const

* 变量命名规则：
 1. 只能包含数字、字母、下划线、$, 不能以数字开头
 2. 常量用 const，变量用 let
 3. 严格区分大小写

```typescript
const PI: number = 3.1415926
console.log('PI:', PI)

const companyName: string = 'HUAWEI'
console.log('公司名称', companyName)
```

## 3 数组：可存储多个数据
* 格式：`let 数组名: 类型[] = [数据1, 数据2]`
* Note：数组声明好的类型，后面存储的数据必须和他一致

```typescript
let names: string[] = ['小李', '小王']
console.log('names：', names)
console.log('1号：', names[1])
```

## 4 函数

```typescript
function buy(price: number, num: number) {
  let total: number = price * num
  return total
}

let apple = buy(2, 3)
console.log('Apple:', apple)
```

## 5 箭头函数
* `() => {}` 这是一个箭头函数

```typescript
let buy = (price: number, num: number) => {
  let total: number = price * num
  return total
}
let apple2 = buy(2, 3)
console.log('Apple2:', apple)
```

## 6 对象
* 通过 interface 接口约定 对象结构类型


```typescript
/*
    格式：
    interface 接口名称 {
      属性名: 类型
      方法名: (参数: 类型) => 返回类型
    }
 */

// 6.1 定义接口
interface Person {
  // 定义属性
  name: string
  age: number
  weight: number        // 定义时不需要逗号

  // 定义方法类型
  sing: (songName: string) => void
  dance: () => void
}

// 6.2 创建对象
let tom: Person = {
  name: 'tom',
  age: 18,
  weight: 90,            // 创建对象时才需要逗号

  sing: (songName: string) => {
    console.log('singing the ', songName)
  },
  dance: () => {
    console.log('dancing')
  }

}

// 6.3 获取属性名
console.log('体重：', tom.weight)

// 6.4 调用方法
tom.sing('haha')
```

## 7 联合类型
* `语法：let 变量: 类型1 | 类型2 | 类型3 = 值`

```typescript
let judge: number | string = 100
console.log('考试评价：', judge)
judge = 'A+'
console.log('考试评价：', judge)
```

* 联合类型还可以将变量值约定在一组数据范围内进行选择

```typescript
let gender: 'man' | 'woman' | 'secret' = 'man'
console.log('gender：', gender)
```

## 8 枚举类型
* 枚举名和枚举变体首字母大写

```typescript
// 定义枚举
enum ThemeColor {
  Red = '#ff0f29',
  Orange = '#ff7100',
  Green = '#30b30e'
}

let color: ThemeColor = ThemeColor.Red
console.log('color ', color)
```

# 二、界面开发
# 1 往 `build` 里写代码，在`预览器`中看效果

```typescript
// index.ets

@Entry
@Component
struct Index {
  @State message: string = 'Hello world';

  build() {
    // 行
    Row() {
      // 列
      Column() {
        // 文本 函数名(参数)
        Text(this.message)
          .fontSize(40)                // 设置字号
          .fontWeight(FontWeight.Bold) // 设置字重
          .fontColor(Color.Green)      // 设置文本颜色
      }
      .width('100%')
    }
    .height('100%')
  }
}
```
 
## 2 界面开发-布局思路
* ArkUI（方舟开发框架）：是一套构建鸿蒙应用界面的框架
* 在 ArkUI 中构建页面的最小单位是 `组件`

### 组件的分类
1. 基础组件：界面呈现的基本元素，例如文本（Text）、图片、按钮等
2. 容器组件：控制布局排布，例如 Row（行）、Column（列）等

> 布局思路：先排版，再放内容。从上往下布局用 `Column`，从左往右用 `Row`
{: .prompt-info }

![image](/assets/harmony/layout.png)

> Note：`build()` 中有且只能有一个根组件，该组件必须是`容器组件`
{: .prompt-info }

### 组件的属性方法
![image](/assets/harmony/component_func.png)

```typescript
@Entry
@Component
struct Index {
  @State message: string = 'Hello world';
  build() {
    // > 从上往下布局用 Column，从左往右用 Row
    // > Note：`build()` 中有且只能有一个`容器组件`
    Column() {
      // 默认 Text 和 Row 是从左往右展示的，而其居中显示是因为没有设置宽度
      Text('小说简介')
        .width('100%')
        // .backgroundColor(Color.Grey)
        .height(40)
        .fontSize(24)
        .fontWeight(700) // 100~900 数字，越大越粗
        // .fontWeight(FontWeight.Bold)
      Row() {
        Text('都市')
          .width(50)
          .height(30)
          .backgroundColor(Color.Orange)
        Text('生活')
          .width(50)
          .height(30)
          .backgroundColor(Color.Yellow)
        Text('情感')
          .width(50)
          .height(30)
          .backgroundColor(Color.Pink)
        Text('克苏鲁')
          .width(50)
          .height(30)
          .backgroundColor(Color.Green)
      }
      .width('100%')
    }
    // width 的百分比就相当于向对父级来计算的，如果没有父级就相对于整行计算
    .width('100%')
    // 百分比需要用引号，数字直接写就行
    // .width(200)
    // .backgroundColor(Color.Pink)
  }
}
```


### 字体颜色
* 语法 1：`.fontColor(Color.Red)` 
* 语法 2：`.fontColor('#df3cef')`

```typescript
@Entry
@Component
struct Index {
  build() {
    Column() {
      Text('诸葛亮')
        .fontColor(Color.Green)
        .fontSize(24)
        .height(40)
        .width('100%')

      Row() {
        Text('置顶')
          .fontColor('#DF3C50')
          .width(40)
        Text('学院')
          .fontColor('#00a1a1')
          .width(40)
        Text('3999评论')
          .fontColor('#0f3c5f')
      }
      .width('100%')
    }

  }
}
```

> 构建界面的核心思路：先排版（横还是竖）-> 再内容 -> 然后美化
{: .prompt-info }

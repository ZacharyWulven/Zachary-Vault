---
layout: post
title: CppGuide-01
date: 2024-01-07 16:45:30.000000000 +09:00
categories: [C++, 入门]
tags: [C++]
---


# HelloWorld

```c++
//******* Log.hpp
#ifndef Log_hpp
#define Log_hpp

#include <stdio.h>
#include <iostream>

void Log(const char* message);

#endif /* Log_hpp */



//******* Log.cpp
#include "Log.hpp"

//const char* 是一种可以保存文本字符串的数据类型
void Log(const char* message) {
  std::cout << message << std::endl;
}



//******* main.cpp
//  Hello
//
//  Created by Zacharyah on 2024/2/7.
//

// 预处理，在编译前执行
#include <iostream>

int main(int argc, const char * argv[]) {
  // insert code here...
  /*
   << 是重载运算符，将其理解为函数
   类似于 std::cout.print("Hello, World!\n").print(std::endl);
   
   std::endl，它将光标移动到新行
   
   */
  std::cout << "Hello, World!\n" << std::endl;

  Log("Hi!");

  // 只是等待您按 Enter 移动到程序的下一行，
  // 即到这行程序就暂停了，直到我们按下 Enter 键
  std::cin.get();
  
  // Note：main 函数是个特例，如果这里不返回任何，默认系统将其视为返回 0
  return 0;
}
```

# C++ 编译器

* 1 说明编译器工作的一个例子
  * 下边代码通过 `#include "EndBrace.h"` 可以编译过

```c++
//******* main.cpp

// 预处理，在编译前执行
#include <iostream>

#include "Log.hpp"


int Multiply(int a, int b) {
  int result = a * b;
  return result;
#include "EndBrace.h"


int main(int argc, const char * argv[]) {
  std::cout << "Hello, World!\n" << std::endl;  
  // Note：main 函数是个特例，如果这里不返回任何，默认系统将其视为返回 0
  return 0;
}


//******* EndBrace.h
#ifndef EndBrace_h
#define EndBrace_h

}

#endif /* EndBrace_h */
```

* 2 预编译 `#if`

```c++
// #if true 才编译里边的代码
#if 1 
int Multiply(int a, int b) {
  int result = a * b;
  return result;
#include "EndBrace.h"
#endif
```

# C++ 链接器

* 使用 `static` 表示
  * 只在本文件中使用
  * 不会被其他任何文件可见
  * 可以通过这样避免一些链接错误

```c++
// static 表示 Multiply 只在 main.cpp 文件中使用
// 如果 main.cpp 中没有调用 Multiply，就不会相关链接错误
static int Multiply(int a, int b) {
  int result = a * b;
  Log("Hi!");
  return result;
#include "EndBrace.h"
``` 

* 函数声明必须与实现一样，否则会有链接错误

* 如果两个函数签名一样，会导致链接错误，有以下解决方案：
1. 使用 `static`
2. 使用 `inline`
3. 把其定义移动到同一个翻译单元


<!--![image](/assets/images/react/guide/index_key.png)-->


# 变量


> 
{: .prompt-info }

